<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>拍照2</title>
    <script src="https://cdn.jsdelivr.net/npm/vconsole@latest/dist/vconsole.min.js"></script>
    <style>
      .video-wrap {
        border-radius: 500px;
        overflow: hidden;
        display:inline-block;
      }
    </style>
  </head>

  <body>
    <br />
   <div class="video-wrap">
      <video
        id="v"
        style="width: 640px; height: 480px"
        playsinline
        autoplay
      ></video>
    </div>
    <canvas id="canvas" style="display: none"></canvas>
    <span id="text">3</span>
    <br />
    <script>
      const vConsole = new VConsole();
      var video = document.querySelector("video");

      navigator.mediaDevices
        .getUserMedia({
          video: true,
          audio: false,
        })
        .then(function (stream) {
          video.srcObject = stream;
          video.onloadedmetadata = function (e) {
            // video.play();
          };
          /* 使用这个 stream stream */
        })
        .catch(function (err) {
//           console.log(456);

//           document.getElementById("text").innerHTML = err;
//           /* 处理 error */
        });
    </script>
  </body>
</html>
